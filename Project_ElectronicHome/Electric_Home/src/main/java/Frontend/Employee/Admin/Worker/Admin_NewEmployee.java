/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package Frontend.Employee.Admin.Worker;

/**
 *
 * @author phily
 */
public class Admin_NewEmployee extends javax.swing.JFrame {
    
    /**
     * Creates new form Admin_NewEmployee
     */
    public Admin_NewEmployee() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panel_employee_new = new javax.swing.JPanel();
        panel_employee_data = new javax.swing.JPanel();
        lbl_employee_ID = new javax.swing.JLabel();
        txtF_employee_ID = new javax.swing.JTextField();
        lbl_employee_CUI = new javax.swing.JLabel();
        lbl_employee_name = new javax.swing.JLabel();
        txtF_employee_name = new javax.swing.JTextField();
        cbBox_employee_position = new javax.swing.JComboBox<>();
        lbl_employee_position = new javax.swing.JLabel();
        panel_employee_photo = new javax.swing.JPanel();
        lbl_employee_photo = new javax.swing.JLabel();
        lbl_changePicture = new javax.swing.JLabel();
        lbl_employee_salary = new javax.swing.JLabel();
        txtF_employee_salary = new javax.swing.JTextField();
        spinner_employee_CUI = new javax.swing.JSpinner();
        btn_employee_accept = new javax.swing.JButton();
        panel_employee_contract = new javax.swing.JPanel();
        lbl_employee_startDate = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtA_employee_contract = new javax.swing.JTextArea();
        lbl_employee_endDate = new javax.swing.JLabel();
        formatField_endingDate = new javax.swing.JFormattedTextField();
        formatField_hiringDate = new javax.swing.JFormattedTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        panel_employee_new.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        panel_employee_data.setBorder(javax.swing.BorderFactory.createTitledBorder("Employee data"));

        lbl_employee_ID.setText("ID:");

        txtF_employee_ID.setEditable(false);
        txtF_employee_ID.setText("SHA based on NIT");
        txtF_employee_ID.setEnabled(false);

        lbl_employee_CUI.setText("CUI:");

        lbl_employee_name.setText("Name:");

        txtF_employee_name.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtF_employee_nameActionPerformed(evt);
            }
        });

        cbBox_employee_position.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Nothing lo demas de la tbl" }));
        cbBox_employee_position.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbBox_employee_positionActionPerformed(evt);
            }
        });

        lbl_employee_position.setText("Position:");

        panel_employee_photo.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        javax.swing.GroupLayout panel_employee_photoLayout = new javax.swing.GroupLayout(panel_employee_photo);
        panel_employee_photo.setLayout(panel_employee_photoLayout);
        panel_employee_photoLayout.setHorizontalGroup(
            panel_employee_photoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_employee_photoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbl_employee_photo, javax.swing.GroupLayout.DEFAULT_SIZE, 164, Short.MAX_VALUE)
                .addContainerGap())
        );
        panel_employee_photoLayout.setVerticalGroup(
            panel_employee_photoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_employee_photoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbl_employee_photo, javax.swing.GroupLayout.DEFAULT_SIZE, 166, Short.MAX_VALUE)
                .addContainerGap())
        );

        lbl_changePicture.setFont(new java.awt.Font("Inter", 2, 13)); // NOI18N
        lbl_changePicture.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_changePicture.setText("- Change picture -");

        lbl_employee_salary.setText("Salary:");

        txtF_employee_salary.setEditable(false);
        txtF_employee_salary.setEnabled(false);

        spinner_employee_CUI.setModel(new javax.swing.SpinnerNumberModel(0, 0, null, 1));
        spinner_employee_CUI.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                spinner_employee_CUIStateChanged(evt);
            }
        });

        javax.swing.GroupLayout panel_employee_dataLayout = new javax.swing.GroupLayout(panel_employee_data);
        panel_employee_data.setLayout(panel_employee_dataLayout);
        panel_employee_dataLayout.setHorizontalGroup(
            panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_dataLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(panel_employee_photo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(37, 37, 37)
                .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_employee_dataLayout.createSequentialGroup()
                        .addComponent(lbl_employee_CUI)
                        .addGap(18, 18, 18)
                        .addComponent(spinner_employee_CUI, javax.swing.GroupLayout.PREFERRED_SIZE, 201, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(panel_employee_dataLayout.createSequentialGroup()
                        .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panel_employee_dataLayout.createSequentialGroup()
                                .addComponent(lbl_employee_ID)
                                .addGap(18, 18, 18)
                                .addComponent(txtF_employee_ID, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(panel_employee_dataLayout.createSequentialGroup()
                                    .addComponent(lbl_employee_position)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(cbBox_employee_position, javax.swing.GroupLayout.PREFERRED_SIZE, 156, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(25, 25, 25)
                                    .addComponent(lbl_employee_salary)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(txtF_employee_salary, javax.swing.GroupLayout.PREFERRED_SIZE, 177, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(panel_employee_dataLayout.createSequentialGroup()
                                    .addComponent(lbl_employee_name)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(txtF_employee_name))))
                        .addContainerGap(14, Short.MAX_VALUE))))
            .addGroup(panel_employee_dataLayout.createSequentialGroup()
                .addGap(43, 43, 43)
                .addComponent(lbl_changePicture, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        panel_employee_dataLayout.setVerticalGroup(
            panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_dataLayout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(panel_employee_dataLayout.createSequentialGroup()
                        .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_employee_ID)
                            .addComponent(txtF_employee_ID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(52, 52, 52)
                        .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_employee_CUI)
                            .addComponent(spinner_employee_CUI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtF_employee_name, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbl_employee_name))
                        .addGap(18, 18, 18)
                        .addGroup(panel_employee_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_employee_position)
                            .addComponent(cbBox_employee_position, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbl_employee_salary)
                            .addComponent(txtF_employee_salary, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(panel_employee_photo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbl_changePicture)
                .addContainerGap(20, Short.MAX_VALUE))
        );

        btn_employee_accept.setText("ACCEPT");
        btn_employee_accept.setEnabled(false);

        panel_employee_contract.setBorder(javax.swing.BorderFactory.createTitledBorder("Contract"));

        lbl_employee_startDate.setText("Date of hiring:");

        txtA_employee_contract.setColumns(20);
        txtA_employee_contract.setRows(5);
        jScrollPane1.setViewportView(txtA_employee_contract);

        lbl_employee_endDate.setText("Date of ending:");

        formatField_endingDate.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter()));
        formatField_endingDate.setEnabled(false);
        formatField_endingDate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                formatField_endingDateActionPerformed(evt);
            }
        });

        formatField_hiringDate.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter()));

        javax.swing.GroupLayout panel_employee_contractLayout = new javax.swing.GroupLayout(panel_employee_contract);
        panel_employee_contract.setLayout(panel_employee_contractLayout);
        panel_employee_contractLayout.setHorizontalGroup(
            panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_contractLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_employee_contractLayout.createSequentialGroup()
                        .addGroup(panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(panel_employee_contractLayout.createSequentialGroup()
                                .addComponent(lbl_employee_endDate)
                                .addGap(18, 18, 18)
                                .addComponent(formatField_endingDate, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panel_employee_contractLayout.createSequentialGroup()
                                .addComponent(lbl_employee_startDate)
                                .addGap(18, 18, 18)
                                .addComponent(formatField_hiringDate)))
                        .addGap(8, 8, 8))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 698, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(16, 16, 16))
        );
        panel_employee_contractLayout.setVerticalGroup(
            panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_contractLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbl_employee_startDate)
                    .addComponent(formatField_hiringDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(panel_employee_contractLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbl_employee_endDate)
                    .addComponent(formatField_endingDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(22, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout panel_employee_newLayout = new javax.swing.GroupLayout(panel_employee_new);
        panel_employee_new.setLayout(panel_employee_newLayout);
        panel_employee_newLayout.setHorizontalGroup(
            panel_employee_newLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_newLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panel_employee_newLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panel_employee_data, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panel_employee_contract, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
            .addGroup(panel_employee_newLayout.createSequentialGroup()
                .addGap(184, 184, 184)
                .addComponent(btn_employee_accept, javax.swing.GroupLayout.PREFERRED_SIZE, 360, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panel_employee_newLayout.setVerticalGroup(
            panel_employee_newLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_employee_newLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(panel_employee_data, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(panel_employee_contract, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_employee_accept, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panel_employee_new, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(panel_employee_new, javax.swing.GroupLayout.PREFERRED_SIZE, 598, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void spinner_employee_CUIStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_spinner_employee_CUIStateChanged
        generateID();
    }//GEN-LAST:event_spinner_employee_CUIStateChanged

    private void txtF_employee_nameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtF_employee_nameActionPerformed
        generateID();
    }//GEN-LAST:event_txtF_employee_nameActionPerformed

    private void cbBox_employee_positionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbBox_employee_positionActionPerformed
        generateID();
    }//GEN-LAST:event_cbBox_employee_positionActionPerformed

    private void formatField_endingDateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_formatField_endingDateActionPerformed
        if(!formatField_endingDate.getText().isBlank() && !formatField_endingDate.getText().isEmpty()){
            fillOutContract();
            btn_employee_accept.setEnabled(true);
        }else{
            btn_employee_accept.setEnabled(false);
        }
    }//GEN-LAST:event_formatField_endingDateActionPerformed

    private void generateID(){
        if((!txtF_employee_name.getText().isEmpty() && !txtF_employee_name.getText().isBlank()
                 && txtF_employee_name.getText().length() >= 6)
            && (!spinner_employee_CUI.getValue().toString().isEmpty() && !spinner_employee_CUI.getValue().toString().isBlank())//puede que falle por el toString...
            && (!cbBox_employee_position.getSelectedItem().toString().equals("Nothing"))
            && txtF_employee_ID.getText().isEmpty()){//sino se reemplazaría cada vez que se modificara datos y todos ya hubieran tenido algo antes...
            
            txtF_employee_ID.setText("123456789012");//SHA based on CUI and name
            formatField_endingDate.setEnabled(true);//se activa el campo para llenar el endDate
            
            if(!formatField_endingDate.getText().isBlank() && !formatField_endingDate.getText().isEmpty()){
                fillOutContract();
                btn_employee_accept.setEnabled(true);
            }//por si acaso ya tenían la fecha, porque si no hago esto y no borro el ending, tendría que volver a setear la fecha y que fastidioso sería eso...
        }else{
            txtF_employee_ID.setText("");//por si acaso borran la data
            formatField_endingDate.setEnabled(false);//tengo que desactivar este tb porque si no lo hiciera y setearan otra fecha por molestar, por ese hecho el botón de accept se activaría auqneu la data del empleado no esté completa...
            btn_employee_accept.setEnabled(false);//este era un hecho que se debía desactivar...
        }
    }//LISTO   
    
    private void fillOutContract(){
        txtA_employee_contract.setText("");
        txtA_employee_contract.setText("Yo "+ txtF_employee_name.getText().toUpperCase()                                
                + " identificado con el CUI: "+ spinner_employee_CUI.getValue().toString().toUpperCase()
                + " me comprometo a formar parte de la empresa ElectronicHomes S.A \n"
                + " por lo tanto estoy consciente que debo respetar, cumplir y actuar"
                + " como la reglamentación interna me lo ordene.\n Habiendo dicho esto"
                + " acepto el puesto de " 
                + cbBox_employee_position.getSelectedItem().toString().toUpperCase()                  
                + " en el periodo del " + formatField_hiringDate.getText()
                + " al " + formatField_endingDate.getText()
                + " con un salario de Q." + lbl_employee_salary
                + "trabajando de lunes a viernes en un horario de 9:00 AM a 16:00 PM"
                + "y descansando fines de semana.\n"
                + "\tFirma: txtF_employee_name.getText().toUpperCase()");
        
    }//LISTO
    
    //en este caso como debe tener un ID, NO se podrá guardar a menos que el campo de ID esté lleno
    //puesto que si no lo está significa que no se han llenado todos los campos, puesto que a pesar
    //de que para ser creado solo dependa del CUI, para asegurar que se llene todo, será creado hasta
    //que se haga eso (tb para despistar un poquis...)
    
    //no habrá UPDATE por el enunciado!!!

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_employee_accept;
    private javax.swing.JComboBox<String> cbBox_employee_position;
    private javax.swing.JFormattedTextField formatField_endingDate;
    private javax.swing.JFormattedTextField formatField_hiringDate;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lbl_changePicture;
    private javax.swing.JLabel lbl_employee_CUI;
    private javax.swing.JLabel lbl_employee_ID;
    private javax.swing.JLabel lbl_employee_endDate;
    private javax.swing.JLabel lbl_employee_name;
    private javax.swing.JLabel lbl_employee_photo;
    private javax.swing.JLabel lbl_employee_position;
    private javax.swing.JLabel lbl_employee_salary;
    private javax.swing.JLabel lbl_employee_startDate;
    private javax.swing.JPanel panel_employee_contract;
    private javax.swing.JPanel panel_employee_data;
    private javax.swing.JPanel panel_employee_new;
    private javax.swing.JPanel panel_employee_photo;
    private javax.swing.JSpinner spinner_employee_CUI;
    private javax.swing.JTextArea txtA_employee_contract;
    private javax.swing.JTextField txtF_employee_ID;
    private javax.swing.JTextField txtF_employee_name;
    private javax.swing.JTextField txtF_employee_salary;
    // End of variables declaration//GEN-END:variables
}
